<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Pencil2D: MovieExporter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
 <header class="site-header" role="banner">
  <div class="wrapper">
   <img src="pencil2d.png" style="float:left; width:54px; margin-right: 10px;" />
   <a class="site-title" href="//www.pencil2d.org/">Pencil2D Animation</a>
   <nav class="site-nav">
    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
    <label for="nav-trigger">
     <span class="menu-icon">
      <svg viewBox="0 0 18 15" width="18px" height="15px">
       <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
       <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
       <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
      </svg>
     </span>
    </label>
    <div class="trigger">
     <a class="page-link" href="//www.pencil2d.org/download">Download</a>
     <a class="page-link" href="//www.pencil2d.org/community">Community</a>
     <a class="page-link" href="//www.pencil2d.org/news.html">News</a>
     <a class="page-link" href="//www.pencil2d.org/doc">Docs</a>
     <a class="page-link" href="//www.pencil2d.org/contribute">Contribute</a>
    </div>
   </nav>
  </div>
 </header>
 <section class="page-header">
  <h1 class="project-name">API Documentation</h1>
  <h2 class="project-tagline">149f6c0b141cb356b88b27f2b776c5b805255023</h2>
 </section>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_movie_exporter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MovieExporter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a086ba54d4615420bde8a5a8886c40d5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_exporter.html#a086ba54d4615420bde8a5a8886c40d5b">run</a> (const <a class="el" href="class_object.html">Object</a> *obj, const <a class="el" href="struct_export_movie_desc.html">ExportMovieDesc</a> &amp;desc, std::function&lt; void(float, float)&gt; majorProgress, std::function&lt; void(float)&gt; minorProgress, std::function&lt; void(<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>)&gt; progressMessage)</td></tr>
<tr class="memdesc:a086ba54d4615420bde8a5a8886c40d5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin exporting the movie described by exportDesc.  <a href="#a086ba54d4615420bde8a5a8886c40d5b">More...</a><br/></td></tr>
<tr class="separator:a086ba54d4615420bde8a5a8886c40d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301f3a95c6287294c4b8d0605d934f06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a301f3a95c6287294c4b8d0605d934f06"></a>
<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td><td class="memItemRight" valign="bottom"><b>error</b> ()</td></tr>
<tr class="separator:a301f3a95c6287294c4b8d0605d934f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6864e3f9fa4b0169ed42f73659382100"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6864e3f9fa4b0169ed42f73659382100"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>cancel</b> ()</td></tr>
<tr class="separator:a6864e3f9fa4b0169ed42f73659382100"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a278df3f6f5254f89daf4dc2414525084"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_exporter.html#a278df3f6f5254f89daf4dc2414525084">assembleAudio</a> (const <a class="el" href="class_object.html">Object</a> *obj, <a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a> ffmpegPath, std::function&lt; void(float)&gt; progress)</td></tr>
<tr class="memdesc:a278df3f6f5254f89daf4dc2414525084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combines all audio tracks in obj into a single file.  <a href="#a278df3f6f5254f89daf4dc2414525084">More...</a><br/></td></tr>
<tr class="separator:a278df3f6f5254f89daf4dc2414525084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297351b8bce16a6087d565e921ff9ad6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_exporter.html#a297351b8bce16a6087d565e921ff9ad6">generateMovie</a> (const <a class="el" href="class_object.html">Object</a> *obj, <a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a> ffmpegPath, <a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a> strOutputFile, std::function&lt; void(float)&gt; progress)</td></tr>
<tr class="memdesc:a297351b8bce16a6087d565e921ff9ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exports obj to a movie image at strOut using FFmpeg.  <a href="#a297351b8bce16a6087d565e921ff9ad6">More...</a><br/></td></tr>
<tr class="separator:a297351b8bce16a6087d565e921ff9ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53731a39f13276aa7d1a7dea071ea0e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_exporter.html#a53731a39f13276aa7d1a7dea071ea0e7">generateGif</a> (const <a class="el" href="class_object.html">Object</a> *obj, <a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a> ffmpeg, <a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a> strOut, std::function&lt; void(float)&gt; progress)</td></tr>
<tr class="memdesc:a53731a39f13276aa7d1a7dea071ea0e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exports obj to a gif image at strOut using FFmpeg.  <a href="#a53731a39f13276aa7d1a7dea071ea0e7">More...</a><br/></td></tr>
<tr class="separator:a53731a39f13276aa7d1a7dea071ea0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6bcfefed72580369c7e7656eee6467"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_exporter.html#a8e6bcfefed72580369c7e7656eee6467">executeFFMpeg</a> (<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a> strCmd, std::function&lt; void(float)&gt; progress)</td></tr>
<tr class="memdesc:a8e6bcfefed72580369c7e7656eee6467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the specified command (should be ffmpeg) and allows for progress feedback.  <a href="#a8e6bcfefed72580369c7e7656eee6467">More...</a><br/></td></tr>
<tr class="separator:a8e6bcfefed72580369c7e7656eee6467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4615ed5099547ee4b6106a09d898fc23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_exporter.html#a4615ed5099547ee4b6106a09d898fc23">executeFFMpegPipe</a> (<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a> strCmd, std::function&lt; void(float)&gt; progress, std::function&lt; bool(<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qprocess.html">QProcess</a> &amp;, int)&gt; writeFrame)</td></tr>
<tr class="memdesc:a4615ed5099547ee4b6106a09d898fc23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the specified command (should be ffmpeg), and lets writeFrame pipe data into it 1 frame at a time.  <a href="#a4615ed5099547ee4b6106a09d898fc23">More...</a><br/></td></tr>
<tr class="separator:a4615ed5099547ee4b6106a09d898fc23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895a0224f35b2d7d1771d4e6a1cb7068"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a895a0224f35b2d7d1771d4e6a1cb7068"></a>
<a class="el" href="class_status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>checkInputParameters</b> (const <a class="el" href="struct_export_movie_desc.html">ExportMovieDesc</a> &amp;)</td></tr>
<tr class="separator:a895a0224f35b2d7d1771d4e6a1cb7068"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae4bdf46dfbb50f395709c62d87221981"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4bdf46dfbb50f395709c62d87221981"></a>
<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qtemporarydir.html">QTemporaryDir</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mTempDir</b></td></tr>
<tr class="separator:ae4bdf46dfbb50f395709c62d87221981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9229d5a66156f168d918a246bc3571b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9229d5a66156f168d918a246bc3571b"></a>
<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mTempWorkDir</b></td></tr>
<tr class="separator:ac9229d5a66156f168d918a246bc3571b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3026d6f8d05535ec29cadcac39d031a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3026d6f8d05535ec29cadcac39d031a7"></a>
<a class="el" href="struct_export_movie_desc.html">ExportMovieDesc</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mDesc</b></td></tr>
<tr class="separator:a3026d6f8d05535ec29cadcac39d031a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7abdb8d41c0571e4a21b1659ef5d9c58"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7abdb8d41c0571e4a21b1659ef5d9c58"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>mCanceled</b> = false</td></tr>
<tr class="separator:a7abdb8d41c0571e4a21b1659ef5d9c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="movieexporter_8h_source.html#l00041">41</a> of file <a class="el" href="movieexporter_8h_source.html">movieexporter.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a278df3f6f5254f89daf4dc2414525084"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_status.html">Status</a> MovieExporter::assembleAudio </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_object.html">Object</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td>
          <td class="paramname"><em>ffmpegPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(float)&gt;&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Combines all audio tracks in obj into a single file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ffmpegPath</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">progress</td><td>A function that takes one float argument (the percentage of the audio assembly complete) and may display the output to the user in any way it sees fit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the final status of the operation. Ok if successful, or safe if there was intentionally no output. </dd></dl>

<p>Definition at line <a class="el" href="movieexporter_8cpp_source.html#l00244">244</a> of file <a class="el" href="movieexporter_8cpp_source.html">movieexporter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8e6bcfefed72580369c7e7656eee6467"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_status.html">Status</a> MovieExporter::executeFFMpeg </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td>
          <td class="paramname"><em>strCmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(float)&gt;&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the specified command (should be ffmpeg) and allows for progress feedback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strCmd</td><td>A string containing the command to execute and all of its arguments </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">progress</td><td>A function that takes one float argument (the percentage of the ffmpeg operation complete) and may display the output to the user in any way it sees fit.</td></tr>
  </table>
  </dd>
</dl>
<p>executeFFMpeg does not allow for writing direct input, the only input through the "-i" argument to specify input files on the disk.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns Status::OK if everything went well, and Status::FAIL and error is detected (usually a non-zero exit code for ffmpeg). </dd></dl>

<p>Definition at line <a class="el" href="movieexporter_8cpp_source.html#l00631">631</a> of file <a class="el" href="movieexporter_8cpp_source.html">movieexporter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4615ed5099547ee4b6106a09d898fc23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_status.html">Status</a> MovieExporter::executeFFMpegPipe </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td>
          <td class="paramname"><em>strCmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(float)&gt;&#160;</td>
          <td class="paramname"><em>progress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; bool(<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qprocess.html">QProcess</a> &amp;, int)&gt;&#160;</td>
          <td class="paramname"><em>writeFrame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the specified command (should be ffmpeg), and lets writeFrame pipe data into it 1 frame at a time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strCmd</td><td>A string containing the command to execute and all of its arguments </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">progress</td><td>A function that takes one float argument (the percentage of the ffmpeg operation complete) and may display the output to the user in any way it sees fit. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">writeFrame</td><td>A function that takes two arguments, a process (the ffmpeg process) and an integer (frames processed or -1, see full description). This function should write a single frame to the process. The function returns true value if it actually wrote a frame.</td></tr>
  </table>
  </dd>
</dl>
<p>This function operates generally as follows:</p>
<ol type="1">
<li>Spawn process with the command from strCmd</li>
<li>Check ffmpeg's output for a progress update.</li>
<li>Add frames with writeFrame until it returns false.</li>
<li>Repeat from step 2 until all frames have been written.</li>
</ol>
<p>The idea is that there are two forms of processing occuring simultaneously, generating frames to send to ffmpeg, and ffmpeg encoding those frames. Whether these this actually occur concurrently or one after another appears to depend on the environment.</p>
<p>The writeFrame function deserves a bit of extra details. It does not only return false when there is an error in generating or writing a frame, it also does it when it wants to "return control" to the rest of the executeFFMpegPipe function for the purposes of reading updates from ffmpeg's output. This should be done every once in a while if possible, but with some formats (specifically gif), all frames must be loaded before any processing can continue, so there is no point returning false for it until all frames have been written. writeFrame is also responsible for closing the writeChannel of the process when it has finished writing all frames. This indicates to executeFFMpegPipe that it no longer needs to call writeFrame.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns Status::OK if everything went well, and Status::FAIL and error is detected (usually a non-zero exit code for ffmpeg). </dd></dl>

<p>Definition at line <a class="el" href="movieexporter_8cpp_source.html#l00724">724</a> of file <a class="el" href="movieexporter_8cpp_source.html">movieexporter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a53731a39f13276aa7d1a7dea071ea0e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_status.html">Status</a> MovieExporter::generateGif </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_object.html">Object</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td>
          <td class="paramname"><em>ffmpegPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td>
          <td class="paramname"><em>strOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(float)&gt;&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Exports obj to a gif image at strOut using FFmpeg. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>An <a class="el" href="class_object.html">Object</a> containing the animation to export. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ffmpegPath</td><td>The path to the FFmpeg binary. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">strOut</td><td>The output path. Should end with .gif. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">progress</td><td>A function that takes one float argument (the percentage of the gif generation complete) and may display the output to the user in any way it sees fit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the final status of the operation (ok or canceled) </dd></dl>

<p>Definition at line <a class="el" href="movieexporter_8cpp_source.html#l00514">514</a> of file <a class="el" href="movieexporter_8cpp_source.html">movieexporter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a297351b8bce16a6087d565e921ff9ad6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_status.html">Status</a> MovieExporter::generateMovie </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_object.html">Object</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td>
          <td class="paramname"><em>ffmpegPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>&#160;</td>
          <td class="paramname"><em>strOutputFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(float)&gt;&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Exports obj to a movie image at strOut using FFmpeg. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>An <a class="el" href="class_object.html">Object</a> containing the animation to export. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ffmpegPath</td><td>The path to the FFmpeg binary. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">strOutputFile</td><td>The output path. Should end with .gif. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">progress</td><td>A function that takes one float argument (the percentage of the gif generation complete) and may display the output to the user in any way it sees fit.</td></tr>
  </table>
  </dd>
</dl>
<p>The movie formats supported by this operation are any file formats that the referenced FFmpeg binary supports and that have the required features (ex. video and audio support)</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the final status of the operation (ok or canceled) </dd></dl>

<p>Definition at line <a class="el" href="movieexporter_8cpp_source.html#l00374">374</a> of file <a class="el" href="movieexporter_8cpp_source.html">movieexporter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a086ba54d4615420bde8a5a8886c40d5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_status.html">Status</a> MovieExporter::run </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_object.html">Object</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_export_movie_desc.html">ExportMovieDesc</a> &amp;&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(float, float)&gt;&#160;</td>
          <td class="paramname"><em>majorProgress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(float)&gt;&#160;</td>
          <td class="paramname"><em>minorProgress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(<a class="elRef" doxygen="/home/travis/build/chchwy/pencil2d/util/docs/qtcore.tags:https://doc.qt.io/qt-5//" href="https://doc.qt.io/qt-5/qstring.html">QString</a>)&gt;&#160;</td>
          <td class="paramname"><em>progressMessage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin exporting the movie described by exportDesc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>An <a class="el" href="class_object.html">Object</a> containing the animation to export. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desc</td><td>A structure containing all the export parameters. See <a class="el" href="struct_export_movie_desc.html">ExportMovieDesc</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">majorProgress</td><td>A function to update the major progress bar. The major progress bar goes from 0-100% only one time, representing the overall progress of the export. The first float parameter is the current progress %, and the second is the desired progress when the next sub-task completes. This should only be called at the beginning of a subtask. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">minorProgress</td><td>A function to update the minor progress bar. The minor progress bar goes from 0-100% for each sub-task of the exporting process. It is up to minor progress to update the major progress bar to reflect the sub-task progress. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">progressMessage</td><td>A function ot update the progres bar message. The messages will describe the current sub-task of the exporting process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="class_status.html">Status</a>:OK on success, or Status::FAIL on error. </dd></dl>

<p>Definition at line <a class="el" href="movieexporter_8cpp_source.html#l00158">158</a> of file <a class="el" href="movieexporter_8cpp_source.html">movieexporter.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/chchwy/pencil2d/core_lib/src/<a class="el" href="movieexporter_8h_source.html">movieexporter.h</a></li>
<li>/home/travis/build/chchwy/pencil2d/core_lib/src/<a class="el" href="movieexporter_8cpp_source.html">movieexporter.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 17 2018 11:25:15 for Pencil2D by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
